{"componentChunkName":"component---src-templates-blog-post-js","path":"/golang/troubleshooting-0/","result":{"data":{"site":{"siteMetadata":{"title":"킹명현 블로그","author":"Freckie","siteUrl":"https://blog.frec.kr","comment":{"disqusShortName":"","utterances":"freckie/freckie.github.io"},"sponsor":{"buyMeACoffeeId":"freckie"}}},"markdownRemark":{"id":"5bfe756f-cef3-51fc-bf73-bc006046f383","excerpt":"Golang missing Location in call to Time.In 에러 (go 1.12.1 버전 기준) GoLang으로 HTTP API를 개발 중이었다. API를 정적 바이너리로 빌드해서, scratch 이미지를 기반으로 Docker 이미지를 빌드해 사용 중이었는데, 다음과 같은 에러가 발생하면서 프로그램이 계속 죽었다.  함수는 timezone 데이터(IANA Timezone Database)를 다른 위치에서 가져오는데, scratch…","html":"<h1 id=\"golang-missing-location-in-call-to-timein-에러\" style=\"position:relative;\"><a href=\"#golang-missing-location-in-call-to-timein-%EC%97%90%EB%9F%AC\" aria-label=\"golang missing location in call to timein 에러 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>[Golang] missing Location in call to Time.In 에러</h1>\n<p>(go 1.12.1 버전 기준)</p>\n<p>GoLang으로 HTTP API를 개발 중이었다.</p>\n<p>API를 정적 바이너리로 빌드해서, scratch 이미지를 기반으로 Docker 이미지를 빌드해 사용 중이었는데,</p>\n<p>다음과 같은 에러가 발생하면서 프로그램이 계속 죽었다.</p>\n<div class=\"gatsby-highlight\" data-language=\"go\"><pre class=\"language-go\"><code class=\"language-go\">loc<span class=\"token punctuation\">,</span> <span class=\"token boolean\">_</span> <span class=\"token operator\">:=</span> time<span class=\"token punctuation\">.</span><span class=\"token function\">LoadLocation</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Asia/Seoul\"</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// 에러 발생</span>\ntimestamp <span class=\"token operator\">:=</span> time<span class=\"token punctuation\">.</span><span class=\"token function\">Now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">In</span><span class=\"token punctuation\">(</span>loc<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">Unix</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p><code class=\"language-text\">time.LoadLocation</code> 함수는 timezone 데이터(<em>IANA Timezone Database</em>)를 다른 위치에서 가져오는데, scratch 이미지는 라이브러리가 포함되어 있지 않아 timezone 데이터를 가져올 수 없어 발생하는 에러였다.</p>\n<p>원래는 다음 위치 중 하나에서 timezone 데이터를 가져온다.</p>\n<ul>\n<li><code class=\"language-text\">ZONEINFO</code> 환경변수</li>\n<li><code class=\"language-text\">$GOROOT/lib/time/zoneinfo.zip</code></li>\n</ul>\n<p>$GOROOT/lib/time 경로에 들어가서 <a href=\"http://zoneinfo.zip\">zoneinfo.zip</a> 파일을 가져온 후,</p>\n<p>다음 방법으로 이미지에 timezone 데이터를 추가해 에러를 해결했다.</p>\n<div class=\"gatsby-highlight\" data-language=\"docker\"><pre class=\"language-docker\"><code class=\"language-docker\"><span class=\"token keyword\">ADD</span> zoneinfo.zip\n<span class=\"token keyword\">ENV</span> ZONEINFO /zoneinfo.zip</code></pre></div>","frontmatter":{"title":"missing Location in call to Time.In 에러","date":"2020년 03월 19일 작성","series":null}}},"pageContext":{"slug":"/golang/troubleshooting-0/","previous":{"fields":{"slug":"/docker/docker/"},"frontmatter":{"title":"Docker 간단 정리","category":"Docker","draft":false}},"next":{"fields":{"slug":"/golang/goquery/"},"frontmatter":{"title":"goquery를 이용해서 html 파싱하기","category":"GoLang","draft":false}}}},"staticQueryHashes":["3128451518","521680639"]}